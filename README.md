# **ğŸµ YouTube Track Separation Studio**

**YouTube Track Separation Studio**ëŠ” YouTube ì˜ìƒì„ ì‹œì²­í•˜ë©´ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ AI ì˜¤ë””ì˜¤ ë¶„ë¦¬(Source Separation)ë¥¼ ìˆ˜í–‰í•˜ê³ , ë¸Œë¼ìš°ì € ìƒì—ì„œ ê° ì•…ê¸°(Vocal, Drums, Bass, Other)ì˜ ë³¼ë¥¨ì„ ë…ë¦½ì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆëŠ” í•˜ì´ë¸Œë¦¬ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

ë¡œì»¬ Python ì„œë²„ê°€ GPU ê°€ì†ì„ í†µí•´ ë¬´ê±°ìš´ AI ì—°ì‚°ì„ ì²˜ë¦¬í•˜ê³ , Chrome í™•ì¥ í”„ë¡œê·¸ë¨ì´ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ì™€ ì˜¤ë””ì˜¤ ë¯¹ì‹±ì„ ë‹´ë‹¹í•˜ëŠ” **Client-Server ì•„í‚¤í…ì²˜**ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## **ğŸš€ ì£¼ìš” ê¸°ëŠ¥ (Key Features)**

* **YouTube í†µí•© UI**: YouTube í”Œë ˆì´ì–´ ë‚´ë¶€ì— íŠ¸ë™ ë¶„ë¦¬ ë²„íŠ¼ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì£¼ì…(Inject)ë©ë‹ˆë‹¤.  
* **ê³ ì„±ëŠ¥ AI ë¶„ë¦¬**: Metaì˜ **Demucs** ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ê³ ìŒì§ˆë¡œ íŠ¸ë™ì„ ë¶„ë¦¬í•©ë‹ˆë‹¤.  
* **ì‹¤ì‹œê°„ ì›¹ì†Œì¼“ í†µì‹ **: ì§„í–‰ë¥ (Progress)ê³¼ ìƒíƒœ ë©”ì‹œì§€ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ UIì— í‘œì‹œë©ë‹ˆë‹¤.  
* **ì›¹ ì˜¤ë””ì˜¤ ë¯¹ì‹±**: ë¶„ë¦¬ëœ 4ê°œì˜ íŠ¸ë™(ë³´ì»¬, ë² ì´ìŠ¤, ë“œëŸ¼, ê¸°íƒ€)ì„ ì›ë³¸ ì˜ìƒê³¼ ì‹±í¬ë¥¼ ë§ì¶° ì›¹ì—ì„œ ì¦‰ì‹œ ë¯¹ì‹±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
* **ìŠ¤ë§ˆíŠ¸ ìºì‹±**: ì´ë¯¸ ì²˜ë¦¬ëœ ì˜ìƒì€ ë‹¤ì‹œ ë‹¤ìš´ë¡œë“œ/ë¶„ë¦¬í•˜ì§€ ì•Šê³  ì¦‰ì‹œ ë¡œë“œí•©ë‹ˆë‹¤.  
* **GPU ê°€ì† ì§€ì›**: NVIDIA CUDAë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶„ë¦¬ ì†ë„ë¥¼ íšê¸°ì ìœ¼ë¡œ í–¥ìƒì‹œí‚µë‹ˆë‹¤ (GTX 1080 ê¸°ì¤€ ì•½ 10\~20ë°° ê°€ì†).

## **ğŸ› ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Architecture)**

ì´ í”„ë¡œì íŠ¸ëŠ” í¬ê²Œ ë‘ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.

### **1\. Backend (Python/Flask)**

* **Role**: ë¬´ê±°ìš´ ì—°ì‚° ì²˜ë¦¬ ë° íŒŒì¼ í˜¸ìŠ¤íŒ…  
* **Tech Stack**: Flask, Flask-SocketIO, PyTorch, Demucs, yt-dlp, Librosa  
* **Workflow**:  
  1. í´ë¼ì´ì–¸íŠ¸(Extension)ë¡œë¶€í„° video\_id ìˆ˜ì‹   
  2. yt-dlpë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¤ë””ì˜¤(MP3) ê³ ìŒì§ˆ ë‹¤ìš´ë¡œë“œ  
  3. Demucs ëª¨ë¸ì„ ë¡œë“œí•˜ì—¬ 4ê°œ íŠ¸ë™ìœ¼ë¡œ ë¶„ë¦¬ (GPU í™œìš©)  
  4. Librosaë¥¼ ì´ìš©í•´ ë¹„íŠ¸/í…œí¬ ë™ê¸°í™” ë¶„ì„ (Optional)  
  5. ë¶„ë¦¬ëœ ì˜¤ë””ì˜¤ íŒŒì¼ì„ ì •ì (Static) íŒŒì¼ë¡œ ì„œë¹™

### **2\. Frontend (Chrome Extension)**

* **Role**: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë° ì˜¤ë””ì˜¤ ì¬ìƒ  
* **Tech Stack**: JavaScript (ES6+), Web Audio API, Socket.io-client  
* **Workflow**:  
  1. Content Scriptê°€ YouTube DOMì„ ê°ì§€í•˜ì—¬ ë²„íŠ¼ ì£¼ì…  
  2. Socket.IOë¡œ ë¡œì»¬ ì„œë²„ì— ì‘ì—… ìš”ì²­  
  3. ì‘ì—… ì™„ë£Œ ì‹œ ë¶„ë¦¬ëœ ì˜¤ë””ì˜¤ íŒŒì¼(Blob)ì„ ë¡œë“œ  
  4. AudioContextë¥¼ ì‚¬ìš©í•˜ì—¬ 4ê°œì˜ ì˜¤ë””ì˜¤ ì†ŒìŠ¤ë¥¼ ì˜ìƒê³¼ ë™ê¸°í™”í•˜ì—¬ ì¬ìƒ

## **ğŸ“¦ ì„¤ì¹˜ ë° ì‹¤í–‰ ê°€ì´ë“œ (Installation)**

### **ì‚¬ì „ ìš”êµ¬ ì‚¬í•­ (Prerequisites)**

* **OS**: Windows 10/11 (í…ŒìŠ¤íŠ¸ í™˜ê²½: Windows 11\)  
* **Python**: 3.8 ì´ìƒ (3.10 ê¶Œì¥)  
* **FFmpeg**: í•„ìˆ˜ ì„¤ì¹˜ (ì‹œìŠ¤í…œ í™˜ê²½ ë³€ìˆ˜ Pathì— ë“±ë¡ë˜ì–´ ìˆì–´ì•¼ í•¨)  
* **NVIDIA Driver & CUDA Toolkit**: GPU ê°€ì†ì„ ìœ„í•´ í•„ìˆ˜ (GTX 1080 í˜¸í™˜ ë²„ì „)

### **Step 1\. ë°±ì—”ë“œ ì„œë²„ ì„¤ì •**

1. **ì €ì¥ì†Œ í´ë¡  ë° ì´ë™**  
   cd circling-booster/youtube\_track\_separation/Youtube\_Track\_Separation-1e8805f41aa8287baab31350968ad0798105d175

2. **ê°€ìƒí™˜ê²½ ìƒì„± (ê¶Œì¥)**  
   python \-m venv venv  
   source venv/Scripts/activate  \# Windows (Git Bash)  
   \# ë˜ëŠ”  
   .\\venv\\Scripts\\activate      \# Windows (PowerShell)

3. ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜  
   ì œê³µëœ requirements.txt ì™¸ì— AI ëª¨ë¸ êµ¬ë™ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ í•¨ê»˜ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.  
   \# ê¸°ë³¸ ì˜ì¡´ì„± ì„¤ì¹˜  
   pip install \-r requirements.txt

   \# í•µì‹¬ AI ë° ë¯¸ë””ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ ì„¤ì¹˜  
   pip install torch torchaudio \--index-url \[https://download.pytorch.org/whl/cu118\](https://download.pytorch.org/whl/cu118)  
   pip install demucs yt-dlp librosa stable-ts

   *(ì°¸ê³ : CUDA ë²„ì „ì— ë”°ë¼ torch ì„¤ì¹˜ ëª…ë ¹ì–´ëŠ” ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„ëŠ” CUDA 11.8 ê¸°ì¤€ì…ë‹ˆë‹¤.)*  
4. FFmpeg ì„¤ì¹˜ í™•ì¸  
   í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í–ˆì„ ë•Œ ë²„ì „ ì •ë³´ê°€ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.  
   ffmpeg \-version

5. **ì„œë²„ ì‹¤í–‰**  
   python app.py

   * ì„±ê³µ ì‹œ: ğŸš€ YouTube Track Separator Server Starting... ë©”ì‹œì§€ì™€ í•¨ê»˜ http://localhost:5010ì—ì„œ ì„œë²„ê°€ ì‹œì‘ë©ë‹ˆë‹¤.

### **Step 2\. í¬ë¡¬ í™•ì¥ í”„ë¡œê·¸ë¨ ì„¤ì¹˜**

1. Chrome ë¸Œë¼ìš°ì €ë¥¼ ì—½ë‹ˆë‹¤.  
2. ì£¼ì†Œì°½ì— chrome://extensionsë¥¼ ì…ë ¥í•˜ì—¬ ì´ë™í•©ë‹ˆë‹¤.  
3. ìš°ì¸¡ ìƒë‹¨ì˜ \*\*ê°œë°œì ëª¨ë“œ(Developer mode)\*\*ë¥¼ ì¼­ë‹ˆë‹¤.  
4. ì¢Œì¸¡ ìƒë‹¨ì˜ **ì••ì¶•í•´ì œëœ í™•ì¥ í”„ë¡œê·¸ë¨ì„ ë¡œë“œí•©ë‹ˆë‹¤(Load unpacked)** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.  
5. í”„ë¡œì íŠ¸ í´ë” ë‚´ì˜ extension í´ë”ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.  
6. í™•ì¥ í”„ë¡œê·¸ë¨ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ **"âœ“ ì„œë²„ ì—°ê²°ë¨"** ìƒíƒœì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

## **ğŸ® ì‚¬ìš© ë°©ë²• (Usage)**

1. ë°±ì—”ë“œ ì„œë²„(app.py)ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.  
2. Chromeì—ì„œ [YouTube](https://www.youtube.com)ì— ì ‘ì†í•˜ì—¬ ì›í•˜ëŠ” ìŒì•… ì˜ìƒì„ ì¬ìƒí•©ë‹ˆë‹¤.  
3. ì˜ìƒ í”Œë ˆì´ì–´ í•˜ë‹¨ ì»¨íŠ¸ë¡¤ ë°”(ì„¤ì • ë²„íŠ¼ ì˜† ë“±)ì— ìƒê¸´ **"ğŸ¹" (ë˜ëŠ” íŠ¸ë™ë¶„ë¦¬)** ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.  
4. íŒì—…ì°½ì—ì„œ ëª¨ë¸(htdemucs ê¶Œì¥)ì„ ì„ íƒí•˜ê³  **ì‹œì‘**ì„ ëˆ„ë¦…ë‹ˆë‹¤.  
5. ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ë¯¹ì‹± íŒ¨ë„ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.  
   * **Vocal**: ë³´ì»¬ ë³¼ë¥¨ ì¡°ì ˆ  
   * **Drum**: ë“œëŸ¼ ë³¼ë¥¨ ì¡°ì ˆ  
   * **Bass**: ë² ì´ìŠ¤ ë³¼ë¥¨ ì¡°ì ˆ  
   * **Other**: ê¸°íƒ€ ë°˜ì£¼ ë³¼ë¥¨ ì¡°ì ˆ  
6. ìŠ¬ë¼ì´ë”ë¥¼ ì¡°ì ˆí•˜ì—¬ ì›í•˜ëŠ” íŠ¸ë™ë§Œ ë“£ê±°ë‚˜(MR ì œê±°, ë³´ì»¬ ì œê±° ë“±) ë¯¹ì‹±í•˜ì—¬ ê°ìƒí•©ë‹ˆë‹¤.

## **âš ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… (Troubleshooting)**

### **1\. ì„œë²„ ì—°ê²° ì‹¤íŒ¨ (Server Check Failed)**

* **ì›ì¸**: app.pyê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ê±°ë‚˜ í¬íŠ¸(5010)ê°€ ì°¨ë‹¨ë¨.  
* **í•´ê²°**: í„°ë¯¸ë„ì—ì„œ ì„œë²„ ì‹¤í–‰ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³ , ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5010/api/healthë¡œ ì ‘ì†í•˜ì—¬ JSON ì‘ë‹µì´ ì˜¤ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

### **2\. ë‹¤ìš´ë¡œë“œ/ë¶„ë¦¬ ì‹¤íŒ¨**

* **ì›ì¸**: ffmpegê°€ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ê²½ë¡œ ì„¤ì •ì´ ì•ˆ ë¨.  
* **í•´ê²°**: [FFmpeg ë‹¤ìš´ë¡œë“œ](https://ffmpeg.org/download.html) í›„ bin í´ë” ê²½ë¡œë¥¼ Windows í™˜ê²½ ë³€ìˆ˜ Pathì— ì¶”ê°€í•˜ê³  ì¬ë¶€íŒ…í•˜ì„¸ìš”.

### **3\. GPUê°€ ì•„ë‹Œ CPUë¡œ ë™ì‘í•¨**

* **ì›ì¸**: PyTorchê°€ CPU ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ë¨.  
* **í•´ê²°**:  
  import torch  
  print(torch.cuda.is\_available())

  ìœ„ ì½”ë“œë¥¼ Pythonì—ì„œ ì‹¤í–‰í•˜ì—¬ Falseê°€ ë‚˜ì˜¨ë‹¤ë©´, ê¸°ì¡´ torchë¥¼ ì‚­ì œí•˜ê³  ë³¸ì¸ì˜ CUDA ë²„ì „ì— ë§ëŠ” PyTorchë¥¼ ì¬ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. (GTX 1080ì€ ìµœì‹  ë“œë¼ì´ë²„ ì„¤ì¹˜ ì‹œ CUDA 12.xë„ ì§€ì› ê°€ëŠ¥)

### **4\. í™•ì¥ í”„ë¡œê·¸ë¨ ë²„íŠ¼ì´ ì•ˆ ë³´ì„**

* **ì›ì¸**: YouTubeê°€ SPA(Single Page Application) ë°©ì‹ì´ë¼ í˜ì´ì§€ ì´ë™ ì‹œ DOMì´ ê°±ì‹ ë¨.  
* **í•´ê²°**: í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨(F5) í•˜ì„¸ìš”. content.jsì˜ MutationObserverê°€ ë³€ê²½ì„ ê°ì§€í•˜ì§€ë§Œ, ê°€ë” íƒ€ì´ë° ì´ìŠˆê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## **ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡° (File Structure)**

.  
â”œâ”€â”€ app.py                  \# Flask ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì   
â”œâ”€â”€ config.py               \# ì„¤ì • íŒŒì¼ (ê²½ë¡œ, ì‹œí¬ë¦¿ í‚¤ ë“±)  
â”œâ”€â”€ extensions.py           \# Flask Extension ì´ˆê¸°í™” (SocketIO ë“±)  
â”œâ”€â”€ requirements.txt        \# íŒŒì´ì¬ ì˜ì¡´ì„± ëª©ë¡  
â”œâ”€â”€ download.py             \# YouTube ë‹¤ìš´ë¡œë“œ ë¡œì§ (yt-dlp)  
â”œâ”€â”€ demucs\_processor.py     \# AI íŠ¸ë™ ë¶„ë¦¬ ë¡œì§ (Demucs)  
â”œâ”€â”€ audio\_sync.py           \# ì˜¤ë””ì˜¤ ì‹±í¬ ë¶„ì„ (Librosa)  
â”œâ”€â”€ align\_force.py          \# ê°€ì‚¬ ê°•ì œ ì •ë ¬ (ì‹¤í—˜ì  ê¸°ëŠ¥)  
â”‚  
â”œâ”€â”€ controllers/            \# ë¼ìš°íŠ¸ ë° ì†Œì¼“ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬  
â”‚   â”œâ”€â”€ routes.py           \# HTTP API ì—”ë“œí¬ì¸íŠ¸  
â”‚   â””â”€â”€ socket\_events.py    \# Socket.IO ì´ë²¤íŠ¸ ì²˜ë¦¬  
â”‚  
â”œâ”€â”€ services/               \# ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§  
â”‚   â””â”€â”€ workflow.py         \# ë‹¤ìš´ë¡œë“œ-\>ë¶„ë¦¬-\>ì‘ë‹µ ì „ì²´ ì›Œí¬í”Œë¡œìš° ê´€ë¦¬  
â”‚  
â””â”€â”€ extension/              \# Chrome Extension ì†ŒìŠ¤ ì½”ë“œ  
    â”œâ”€â”€ manifest.json       \# í™•ì¥ í”„ë¡œê·¸ë¨ ì„¤ì •  
    â”œâ”€â”€ background.js       \# ë°±ê·¸ë¼ìš´ë“œ ìŠ¤í¬ë¦½íŠ¸  
    â”œâ”€â”€ content.js          \# YouTube í˜ì´ì§€ ì£¼ì… ìŠ¤í¬ë¦½íŠ¸ (ë©”ì¸ ë¡œì§)  
    â”œâ”€â”€ popup.html/js       \# í™•ì¥ í”„ë¡œê·¸ë¨ íŒì—… UI  
    â””â”€â”€ ui-templates.js     \# UI HTML í…œí”Œë¦¿ ëª¨ìŒ

## **ğŸ“ ë¼ì´ì„ ìŠ¤ ë° í¬ë ˆë”§**

* **Core AI Model**: [Facebook Demucs](https://github.com/facebookresearch/demucs)  
* **Downloader**: [yt-dlp](https://github.com/yt-dlp/yt-dlp)  
* **Backend**: Flask, Socket.IO  
* **Frontend**: Native JS, Web Audio API

Developed by **\[Your Name/Dev ID\]**